# Smart_pointers
Smart_pointers - это моя собственная реализация умных указателей C++.

# Мотивация

Умные указатели - отличительная особенность современного C++. Они позволяют автоматически и безопасно для исключений управлять временем жизни объектов. Реализация умных указателей - это отличная возможность углубить мое понимание самих умных указателей и динамического управления памятью в целом. Реализация также включает в себя понимание шаблонов, управления копированием и перегрузки операторов - всех важных концепций C++.

# Реализация

Реализована базовая функциональность ```UniquePtr```, ```SharedPtr```, ```WeakPtr```, ```Shared From This```.


## Empty base optimization to store stateless deleter with zero size fee

В unique_ptr (как и в управляющем блоке) всегда должен храниться его deleter. Можно хранить указатель на deleter в unique_ptr или хранить deleter непосредственно в unique_ptr, но даже пустой класс будет занимать место. Однако если deleter является типом класса без статического состояния (например, std::default_delete или лямбда-выражение с пустым списком захвата), то unique_ptr может использовать empty base optimization, чтобы deleter не занимал дополнительного места.

## Indirect management through control block

shared_ptr и weak_ptr не управляют объектом напрямую. Они делают это косвенно через управляющий блок. Управляющий блок будет жить до тех пор, пока ни один связанный с ним shared_ptr/weak_ptr не останется в живых. Таким образом, когда мы попытаемся использовать weak_ptr, указывающий на уже уничтоженный объект, мы сможем узнать из управляющего блока, что срок действия этого weak_ptr истек и объект больше не существует.
